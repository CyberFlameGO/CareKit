{
  "abstract" : [
    {
      "text" : "Create schedules for tasks using multiple schedule elements.",
      "type" : "text"
    }
  ],
  "hierarchy" : {
    "paths" : [
      [
        "doc:\/\/com.apple.CareKit\/documentation\/CareKit"
      ]
    ]
  },
  "identifier" : {
    "interfaceLanguage" : "swift",
    "url" : "doc:\/\/com.apple.CareKit\/documentation\/CareKit\/creating-schedules-for-tasks"
  },
  "kind" : "article",
  "metadata" : {
    "modules" : [
      {
        "name" : "CareKit"
      }
    ],
    "role" : "article",
    "roleHeading" : "Article",
    "title" : "Creating Schedules for Tasks"
  },
  "primaryContentSections" : [
    {
      "content" : [
        {
          "anchor" : "Overview",
          "level" : 2,
          "text" : "Overview",
          "type" : "heading"
        },
        {
          "inlineContent" : [
            {
              "text" : "When you define a schedule for performing a task, you also define one or more schedule",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "elements. These elements allow you to build up complex behaviors composed from multiple",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "steps.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "inlineContent" : [
            {
              "text" : "Schedules are based around specific dates, times and intervals. Reduce the potential",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "for complexity in calculating these, by using the Calendar API and the Date Components",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "API wherever possible. These tools will handle edge cases, such as daylight savings",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "times, and leap years that can otherwise introduce inaccuracies when attempting to",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "calculate using seconds-based time intervals.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "anchor" : "Compose-Schedule-Elements",
          "level" : 3,
          "text" : "Compose Schedule Elements",
          "type" : "heading"
        },
        {
          "inlineContent" : [
            {
              "text" : "For example, you can see that a series of reference objects are created as a starting",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "point for a schedule, based on the returned value from initializing a ",
              "type" : "text"
            },
            {
              "identifier" : "https:\/\/developer.apple.com\/documentation\/foundation\/date",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " object:",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "\/\/ A date that represents 00h 00m 00s today or midnight.",
            "let startOfDay = Calendar.current.startOfDay(for: Date())",
            "",
            "\/\/ A date that represents 08h 00m 00s today or 8am.",
            "let breakfastTime = Calendar.current.date(byAdding: .hour, value: 8, to: startOfDay)!",
            "",
            "\/\/ A date that represents 13h 00m 00s or 1pm.",
            "let lunchTime = Calendar.current.date(byAdding: .hour, value: 5, to: breakfastTime)!",
            "",
            "\/\/ A date that represents 19h 30m 00s or 7.30pm.",
            "let dinnerTime = Calendar.current.date(byAdding: .minute, value: 270, to: lunchTime)!"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        },
        {
          "inlineContent" : [
            {
              "text" : "Using these reference dates, you can build a schedule for a task that should be completed",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "at 8 a.m. on day 1, 1 p.m. on day 2, and 7:30 p.m. on day 3:",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "\/\/ A date component for offsetting by 3 days",
            "let threeDays = DateComponents(day: 3)",
            "",
            "var day1 = OCKScheduleElement(start: breakfastTime, end: nil, interval: threeDays)",
            "var day2 = OCKScheduleElement(start: Calendar.current.date(byAdding: .day, value: 1, to: lunchTime)!, end: nil, interval: threeDays)",
            "var day3 = OCKScheduleElement(start: Calendar.current.date(byAdding: .day, value: 2, to: dinnerTime)!, end: nil, interval: threeDays)",
            "",
            "let multiDaySchedule = OCKSchedule(composing: [day1, day2, day3])"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        },
        {
          "anchor" : "Add-Context-to-Schedule-Elements",
          "level" : 3,
          "text" : "Add Context to Schedule Elements",
          "type" : "heading"
        },
        {
          "inlineContent" : [
            {
              "text" : "You add context to each element of the schedule by setting the ",
              "type" : "text"
            },
            {
              "code" : "text",
              "type" : "codeVoice"
            },
            {
              "text" : " property with",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "details of the time the element represents, and specifying a duration that the task",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "should take:",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "var element = OCKScheduleElement(start: breakfastTime, end: nil, interval: DateComponents(day: 1))",
            "element.text = \"Every day at 8am for 5 minutes\"",
            "element.duration = 300"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        },
        {
          "anchor" : "Include-Outcome-Values",
          "level" : 3,
          "text" : "Include Outcome Values",
          "type" : "heading"
        },
        {
          "inlineContent" : [
            {
              "text" : "Each time a user completes a task event in your app, the data store saves the outcome.",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "This outcome can contain a value or values which you configure in the schedule element.",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "When your app presents the task for a given day, it uses the schedule defined by",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "the elements to determine what values to associate with the outcome.",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "inlineContent" : [
            {
              "text" : "You create outcome values with an ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKOutcomeValue",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : ". An ",
              "type" : "text"
            },
            {
              "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKOutcomeValue",
              "isActive" : true,
              "type" : "reference"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "is created with a value, which can be an ",
              "type" : "text"
            },
            {
              "code" : "Int",
              "type" : "codeVoice"
            },
            {
              "text" : ", ",
              "type" : "text"
            },
            {
              "code" : "Double",
              "type" : "codeVoice"
            },
            {
              "text" : ", ",
              "type" : "text"
            },
            {
              "code" : "Bool",
              "type" : "codeVoice"
            },
            {
              "text" : ", ",
              "type" : "text"
            },
            {
              "code" : "String",
              "type" : "codeVoice"
            },
            {
              "text" : ", ",
              "type" : "text"
            },
            {
              "code" : "Data",
              "type" : "codeVoice"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "or ",
              "type" : "text"
            },
            {
              "code" : "Date",
              "type" : "codeVoice"
            },
            {
              "text" : ", and a unit which is a ",
              "type" : "text"
            },
            {
              "code" : "String",
              "type" : "codeVoice"
            },
            {
              "text" : ". Because an instance of a task might have",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "multiple dimensions, for example, 2 tablets each of 500mg, you can specify an array",
              "type" : "text"
            },
            {
              "text" : " ",
              "type" : "text"
            },
            {
              "text" : "of them for each schedule element:",
              "type" : "text"
            }
          ],
          "type" : "paragraph"
        },
        {
          "code" : [
            "var tablet = OCKOutcomeValue(25.00, units: \"mg\")",
            "var dosage = OCKOutcomeValue(2, units: \"tablets\")",
            "element.targetValues = [tablet, dosage]"
          ],
          "syntax" : "swift",
          "type" : "codeListing"
        }
      ],
      "kind" : "content"
    }
  ],
  "schemaVersion" : {
    "major" : 0,
    "minor" : 2,
    "patch" : 0
  },
  "sections" : [

  ],
  "seeAlsoSections" : [
    {
      "generated" : true,
      "identifiers" : [
        "doc:\/\/com.apple.CareKit\/documentation\/CareKit\/creating-and-displaying-tasks-for-a-patient",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKTask",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKSchedule",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKScheduleElement",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKScheduleEvent",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKEvent",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKOutcome",
        "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKOutcomeValue"
      ],
      "title" : "Tasks and Outcomes"
    }
  ],
  "variants" : [
    {
      "paths" : [
        "\/documentation\/carekit\/creating-schedules-for-tasks"
      ],
      "traits" : [
        {
          "interfaceLanguage" : "swift"
        }
      ]
    }
  ]
, 
"references": {
"doc://com.apple.CareKit/documentation/CareKit": {
  "abstract" : [
    {
      "text" : "Create apps that help people better understand and manage their health.",
      "type" : "text"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKit",
  "kind" : "symbol",
  "role" : "collection",
  "title" : "CareKit",
  "type" : "topic",
  "url" : "\/documentation\/carekit"
},
"doc://com.apple.CareKit/documentation/CareKit/creating-and-displaying-tasks-for-a-patient": {
  "abstract" : [
    {
      "text" : "Create tasks and schedules for patients and display them using a synchronized view",
      "type" : "text"
    },
    {
      "text" : " ",
      "type" : "text"
    },
    {
      "text" : "controller.",
      "type" : "text"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKit\/creating-and-displaying-tasks-for-a-patient",
  "kind" : "article",
  "role" : "article",
  "title" : "Creating and Displaying Tasks for a Patient",
  "type" : "topic",
  "url" : "\/documentation\/carekit\/creating-and-displaying-tasks-for-a-patient"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKEvent": {
  "abstract" : [
    {
      "text" : "An object that represents a single occasion on which a task is scheduled to occur.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKEvent"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKEvent",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKEvent"
    }
  ],
  "role" : "symbol",
  "title" : "OCKEvent",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ockevent"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKOutcome": {
  "abstract" : [
    {
      "text" : "The result of an event that corresonds to a task.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKOutcome"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKOutcome",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKOutcome"
    }
  ],
  "role" : "symbol",
  "title" : "OCKOutcome",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ockoutcome"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKOutcomeValue": {
  "abstract" : [
    {
      "text" : "An object that represents a measurement that a user gives in response to a task.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKOutcomeValue"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKOutcomeValue",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKOutcomeValue"
    }
  ],
  "role" : "symbol",
  "title" : "OCKOutcomeValue",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ockoutcomevalue"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKSchedule": {
  "abstract" : [
    {
      "text" : "A compositon of any number of other schedulable objects.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKSchedule"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKSchedule",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKSchedule"
    }
  ],
  "role" : "symbol",
  "title" : "OCKSchedule",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ockschedule"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKScheduleElement": {
  "abstract" : [
    {
      "text" : "An object that represents a single event that repeats at fixed intervals.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKScheduleElement"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKScheduleElement",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKScheduleElement"
    }
  ],
  "role" : "symbol",
  "title" : "OCKScheduleElement",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ockscheduleelement"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKScheduleEvent": {
  "abstract" : [
    {
      "text" : "The schedule event for the task occurrence.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKScheduleEvent"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKScheduleEvent",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKScheduleEvent"
    }
  ],
  "role" : "symbol",
  "title" : "OCKScheduleEvent",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ockscheduleevent"
},
"doc://com.apple.CareKit/documentation/CareKitStore/OCKTask": {
  "abstract" : [
    {
      "text" : "An object that represents some task or action a patient needs to perform.",
      "type" : "text"
    }
  ],
  "fragments" : [
    {
      "kind" : "keyword",
      "text" : "struct"
    },
    {
      "kind" : "text",
      "text" : " "
    },
    {
      "kind" : "identifier",
      "text" : "OCKTask"
    }
  ],
  "identifier" : "doc:\/\/com.apple.CareKit\/documentation\/CareKitStore\/OCKTask",
  "kind" : "symbol",
  "navigatorTitle" : [
    {
      "kind" : "identifier",
      "text" : "OCKTask"
    }
  ],
  "role" : "symbol",
  "title" : "OCKTask",
  "type" : "topic",
  "url" : "\/documentation\/carekitstore\/ocktask"
},
"https://developer.apple.com/documentation/foundation/date": {
  "identifier" : "https:\/\/developer.apple.com\/documentation\/foundation\/date",
  "title" : "Date",
  "titleInlineContent" : [
    {
      "code" : "Date",
      "type" : "codeVoice"
    }
  ],
  "type" : "link",
  "url" : "https:\/\/developer.apple.com\/documentation\/foundation\/date"
}
}
}